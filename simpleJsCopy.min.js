/*! simpleJsCopy.js v1.0.0--DEV by ryanpcmcquen */
(function(){'use strict';var texts=Array.prototype.slice.call(document.querySelectorAll('[class^=text-to-copy]'));var buttons=Array.prototype.slice.call(document.querySelectorAll('[class^=js-copy-btn]'));var sets={};sets.texts=texts.map(function(text){return text.className.match('text-to-copy').input.replace(/text-to-copy/,'');}).sort();sets.buttons=buttons.map(function(button){return button.className.match('js-copy-btn').input.replace(/js-copy-btn/,'');}).sort();var matches=Object.keys(sets.texts).map(function(ignore,index){return sets.texts[index].match(sets.buttons[index]);});var throwErr=function(err){throw new Error(err);};var iPhoneORiPod=false;var iPad=false;var oldSafari=false;var navAgent=navigator.userAgent;if((/^((?!chrome).)*safari/i).test(navAgent)&&!(/^((?!chrome).)*[0-9][0-9](\.[0-9][0-9]?)?\ssafari/i).test(navAgent)){oldSafari=true;}
if(navAgent.match(/iPhone|iPod/i)){iPhoneORiPod=true;}else if(navAgent.match(/iPad/i)){iPad=true;}
var simpleJsCopy=function(btn,text){var copyBtn=document.querySelector(btn);var setCopyBtnText=function(textToSet){copyBtn.textContent=textToSet;};if(iPhoneORiPod||iPad){if(oldSafari){setCopyBtnText("Select text");}}
if(copyBtn){copyBtn.addEventListener('click',function(){var originalCopyItem=document.querySelector(text);var dollyTheSheep=originalCopyItem.cloneNode(true);var copyItem=document.createElement('textarea');copyItem.style.opacity=0;copyItem.style.position="absolute";copyItem.value=dollyTheSheep.value||dollyTheSheep.textContent;document.body.appendChild(copyItem);if(copyItem){copyItem.focus();copyItem.selectionStart=0;copyItem.selectionEnd=originalCopyItem.textContent.length;try{document.execCommand('copy');if(oldSafari){if(iPhoneORiPod){setCopyBtnText("Now tap 'Copy'");}else if(iPad){setCopyBtnText("Now tap the text, then 'Copy'");}else{setCopyBtnText("Press Command + C to copy");}}else{setCopyBtnText("Copy again");}}catch(ignore){setCopyBtnText("Please copy manually");}
originalCopyItem.focus();originalCopyItem.selectionStart=0;originalCopyItem.selectionEnd=originalCopyItem.textContent.length;copyItem.remove();}else{throwErr("You don't have an element with the class: 'text-to-copy'. Please check the simpleJsCopy README.");}});}else{throwErr("You don't have a <button> with the class: 'js-copy-btn'. Please check the simpleJsCopy README.");}};window.addEventListener('DOMContentLoaded',function(){matches.map(function(i){simpleJsCopy('.js-copy-btn'+i,'.text-to-copy'+i);});});}());
